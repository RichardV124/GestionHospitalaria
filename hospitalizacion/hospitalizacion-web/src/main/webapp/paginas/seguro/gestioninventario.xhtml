<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="/templates/index.xhtml">

	<ui:define name="cuerpo">

		<p:messages id="facesMessage" autoUpdate="true" globalOnly="true"
			closable="true" />

		<h:form prependId="false">

			<p:fieldset legend="Registro de medicamentos" style="margin-top:100px">
				<h:panelGrid columns="3" id="pmedicamento">

					<p:outputLabel id="lblnumref" for="tfnumref"
						value="Numero de Referencia" />
					<p:inputText id="tfnumref" class="form-control" placeholder="Numero de Referencia"
						value="" />
					<p:message for="tfnumref" />

					<p:outputLabel id="lblnombre" for="tfnombre"
						value="Nombre" />
					<p:inputText id="tfnombre" class="form-control" placeholder="Nombre"
						value="" />
					<p:message for="tfnombre" />

					<p:outputLabel id="lblfechavencimiento" for="tffechavencimiento"
						value="Fecha de Vencimiento" /> 
					<p:inputText id="tffechavencimiento" class="form-control" placeholder="DD-MM-AAAAl"
						value="" />
					<p:message for="tffechavencimiento" />
					
					<p:outputLabel for="cbtipo" id="lbltipo"
						value="Tipo Medicamento" />
					<h:selectOneMenu id="cbtipo" class="form-control" value="#{inventarioAjaxController.tipoSeleccionado}">
						<f:selectItem itemValue="0" itemLabel="Seleccione..." />
						<f:selectItems value="#{inventarioAjaxController.tipos}" var="tipo"
							itemValue="#{tipo}" itemLabel="#{tipo.descripcion}" />
					</h:selectOneMenu>
					<p:message for="cbtipo" />			
					
					<p:commandButton styleClass="ui-priority-primary" value="Registrar"
					 action="#{inventarioAjaxController.registrarMedicamento}" process="@this"
					 update="pmedicamento phorario"/>
				</h:panelGrid>
			</p:fieldset>	
			
		 	<p:fieldset legend="Asignacion de horarios" style="margin-top:100px">
				<h:panelGrid columns="3" id="pasigh">

					<p:outputLabel for="cbmedico" id="lblmedico"
						value="Medico" />
					<h:selectOneMenu id="cbmedico" class="form-control" value="#{horarioAjaxController.medicoSeleccionado}">
						<f:selectItem itemValue="0" itemLabel="Seleccione..." />
						<f:selectItems value="#{horarioAjaxController.medicos}" var="med"
							itemValue="#{med}" itemLabel="#{med.nombre}" />
					</h:selectOneMenu>
					<p:message for="cbmedico" />

					<p:outputLabel for="cbhorario" id="lblhorario"
						value="Horario" />
					<h:selectOneMenu id="cbhorario" class="form-control" value="#{horarioAjaxController.horarioSeleccionado}">
						<f:selectItem itemValue="0" itemLabel="Seleccione..." />
						<f:selectItems value="#{horarioAjaxController.horarios}" var="hora"
							itemValue="#{hora}" itemLabel="#{hora}" />
					</h:selectOneMenu>
					<p:message for="cbhorario" />			
					
					<p:commandButton styleClass="ui-priority-primary" value="Asignar"
					 action="#{horarioAjaxController.asignarHorario}" process="@this"
					 update="pasigh tablahorariosasignados"/>
				</h:panelGrid>
			</p:fieldset>
			
			<p:fieldset legend="Horarios Asignados" style="margin-top:100px">
				<p:dataTable id="tablahorariosasignados" value="#{horarioAjaxController.horariosAsig}" var="hor"
					 border="1">

					<p:column headerText="Medico">

						<h:outputLabel value="hor.nombre" />
					</p:column>

					<p:column headerText="Fecha">

						<h:outputLabel value="hor.fecha" />
					</p:column>

					<p:column headerText="Hora Inicial">

						<h:outputLabel value="hor.horaInicial" />
					</p:column>

					<p:column headerText="Hora Final">

						<h:outputLabel value="hor.horaFinal" />
					</p:column>

					<p:column headerText="Opciones">
						<p:commandButton action="#{horarioAjaxController.eliminarHorarioAsinado(hor)}"
							process="@this" value="Eliminar"
							update="tablahorariosasignados" 
							 />
					</p:column>

				</p:dataTable>
			</p:fieldset>	

		</h:form>

	</ui:define>
</ui:composition>